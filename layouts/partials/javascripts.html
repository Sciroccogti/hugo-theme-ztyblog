{{ $jquery := resources.Get "js/jquery.min.js" }}
{{ $bootstrap := resources.Get "js/bootstrap.min.js" }}
{{ $tweenmax := resources.Get "js/TweenMax.min.js" }}
{{ $leon := resources.Get "js/leon.js" }}
{{ $qrcode := resources.Get "js/qrcode.js" }}
{{ $fuse := resources.Get "js/fuse.js" }}
{{ $search := resources.Get "js/search.js" }}
{{ $katex := resources.Get "js/katex.min.js" }}
{{ $autorender := resources.Get "js/auto-render.min.js" }}
{{ $prism := resources.Get "js/prism.js" }}
{{ $custom := resources.Get "js/custom.js" }}
{{ $customnothome := resources.Get "js/custom-not-home.js" }}
{{ $customishome := resources.Get "js/custom-is-home.js" }}

{{ $secureJS := slice $jquery $bootstrap $qrcode $tweenmax $leon $search $fuse $katex $autorender $custom $prism | resources.Concat "bundle.js" | resources.Minify | resources.Fingerprint "sha512" }}
<script type="text/javascript" src="{{ $secureJS.RelPermalink }}" integrity="{{ $secureJS.Data.Integrity }}"></script>

{{ if not .IsHome }}
{{ $secureJSNotHome := $customnothome | resources.Minify | resources.Fingerprint "sha512" }}
<script type="text/javascript" src="{{ $secureJSNotHome.RelPermalink }}" integrity="{{ $secureJSNotHome.Data.Integrity }}"></script>
{{ end }}

{{ if .IsHome }}
{{ $secureJSIsHome := $customishome | resources.Minify | resources.Fingerprint "sha512" }}
<script type="text/javascript" src="{{ $secureJSIsHome.RelPermalink }}" integrity="{{ $secureJSIsHome.Data.Integrity }}"></script>
{{ end }}